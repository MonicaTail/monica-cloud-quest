<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>☁️ Monica's Cloud Quest ☁️</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <style>
    /* === Reset and base styles === */
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to bottom, #a3cef1, #f0f8ff);
      color: #222;
      min-height: 100vh;
      overflow-x: hidden;
      transition: background 0.5s ease;
    }

    /* Sunny background */
    body.sunny {
      background: linear-gradient(to bottom, #a3cef1, #f0f8ff);
      color: #222;
    }

    /* Rainy background */
    body.rainy {
      background: linear-gradient(to bottom, #4a708b, #2f4f4f);
      color: #eee;
    }

    /* Clouds container */
    #clouds {
      position: fixed;
      top: 10px;
      left: 0;
      width: 100%;
      height: 80px;
      pointer-events: none;
      user-select: none;
      display: flex;
      justify-content: center;
      gap: 20px;
      z-index: 10;
    }
    .cloud {
      background: white;
      border-radius: 50px;
      padding: 15px 35px;
      font-weight: bold;
      font-size: 1.4rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      user-select: none;
    }

    /* Sun in top right */
    #sun {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 80px;
      height: 80px;
      z-index: 15;
      user-select: none;
      pointer-events: none;
    }

    /* Butterfly container and butterflies */
    #butterflies {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100vh;
      pointer-events: none;
      z-index: 8;
      overflow: visible;
    }
    .butterfly {
      position: absolute;
      width: 40px;
      height: 40px;
      background-image: url('https://i.imgur.com/6ybxvT6.png'); /* cute pink butterfly */
      background-size: contain;
      background-repeat: no-repeat;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }
    @keyframes flutter {
      0% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-10px) rotate(10deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }
    /* Butterflies flutter with different delays and speeds */
    
    /* Rain container */
    #rain {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 9;
      overflow: hidden;
    }
    .raindrop {
      position: absolute;
      width: 2px;
      height: 15px;
      background: #a3d4ff;
      opacity: 0.7;
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: 1;
    }
    @keyframes fall {
      0% { transform: translateY(-20px); opacity: 0.7; }
      100% { transform: translateY(110vh); opacity: 0; }
    }

    /* Quiz container */
    #quiz-container {
      max-width: 650px;
      margin: 150px auto 40px;
      padding: 20px;
      background: rgba(255 255 255 / 0.85);
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      text-align: center;
      z-index: 12;
      position: relative;
    }
    #question {
      font-size: 1.6rem;
      margin-bottom: 25px;
      font-weight: 600;
    }
    #options button {
      display: block;
      margin: 10px auto;
      padding: 10px 18px;
      font-size: 1.2rem;
      width: 80%;
      max-width: 350px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #69c0ff;
      color: #004466;
      box-shadow: 0 4px 8px rgb(0 122 204 / 0.3);
      transition: background-color 0.3s ease;
    }
    #options button:hover,
    #options button:focus {
      background-color: #4090d5;
      outline: none;
      color: white;
    }

    /* Log for feedback */
    #log {
      margin-top: 20px;
      min-height: 32px;
      font-size: 1.2rem;
      font-weight: 600;
      color: #004466;
      min-height: 36px;
      user-select: none;
    }
    body.rainy #log {
      color: #a3d4ff;
    }

    /* Restart button */
    #refresh-btn {
      margin-top: 30px;
      padding: 12px 25px;
      font-size: 1.2rem;
      cursor: pointer;
      border-radius: 10px;
      border: none;
      background-color: #4caf50;
      color: white;
      box-shadow: 0 4px 10px rgba(0,128,0,0.4);
      transition: background-color 0.3s ease;
    }
    #refresh-btn:hover, #refresh-btn:focus {
      background-color: #3a8e3a;
      outline: none;
    }

    /* Responsive */
    @media (max-width: 600px) {
      #quiz-container {
        margin: 120px 20px 40px;
      }
      #options button {
        width: 100%;
      }
    }
  </style>
</head>
<body class="sunny">

  <!-- Clouds at top -->
  <div id="clouds" aria-hidden="true">
    <div class="cloud">Java</div>
    <div class="cloud">Oracle</div>
    <div class="cloud">Tux</div>
    <div class="cloud">Coding</div>
    <div class="cloud">Cloud</div>
    <div class="cloud">Linux</div>
    <div class="cloud">API</div>
  </div>

  <!-- Smiling sun SVG -->
  <svg id="sun" viewBox="0 0 64 64" aria-hidden="true" >
    <circle cx="32" cy="32" r="14" fill="#FFDD55" stroke="#FBBF24" stroke-width="2"/>
    <circle cx="24" cy="28" r="3" fill="#333"/>
    <circle cx="40" cy="28" r="3" fill="#333"/>
    <path d="M23 38 Q32 46 41 38" stroke="#333" stroke-width="2" fill="none" stroke-linecap="round"/>
    <!-- Sun rays -->
    <g stroke="#FBBF24" stroke-width="2">
      <line x1="32" y1="4" x2="32" y2="14" />
      <line x1="32" y1="50" x2="32" y2="60" />
      <line x1="4" y1="32" x2="14" y2="32" />
      <line x1="50" y1="32" x2="60" y2="32" />
      <line x1="12" y1="12" x2="20" y2="20" />
      <line x1="44" y1="44" x2="52" y2="52" />
      <line x1="12" y1="52" x2="20" y2="44" />
      <line x1="44" y1="20" x2="52" y2="12" />
    </g>
  </svg>

  <!-- Butterflies container -->
  <div id="butterflies" aria-hidden="true"></div>

  <!-- Rain container -->
  <div id="rain" aria-hidden="true"></div>

  <!-- Quiz container -->
  <main id="quiz-container" role="main" aria-live="polite">
    <div id="question"></div>
    <div id="options" role="list"></div>
    <div id="log" role="log" aria-live="assertive"></div>
    <button id="refresh-btn" aria-label="Restart Quiz">Restart Quiz</button>
  </main>

  <!-- Audio elements -->
  <audio id="bg-music" loop preload="auto" volume="0.15" src="https://cdn.pixabay.com/download/audio/2022/03/24/audio_0d44f46204.mp3?filename=sunny-music-12691.mp3"></audio>
  <audio id="rain-sound" loop preload="auto" volume="0.15" src="https://www.soundjay.com/nature/rain-01.mp3"></audio>
  <audio id="correct-sound" preload="auto" src="https://www.soundjay.com/button/sounds/button-4.mp3"></audio>
  <audio id="wrong-sound" preload="auto" src="https://www.soundjay.com/button/sounds/button-10.mp3"></audio>

  <script>
    const questions = [
      {
        question: "What language is primarily used for Android development?",
        options: ["Java", "Swift", "Python", "Ruby"],
        answer: "Java"
      },
      {
        question: "Which version control system is widely used for collaborative coding?",
        options: ["Git", "Subversion", "Mercurial", "CVS"],
        answer: "Git"
      },
      {
        question: "What is Oracle mainly known for?",
        options: ["Cloud Services", "Mobile Apps", "Hardware Devices", "Social Media"],
        answer: "Cloud Services"
      },
      {
        question: "Which software is used for Java development environment?",
        options: ["NetBeans", "Photoshop", "Visual Studio Code", "GarageBand"],
        answer: "NetBeans"
      },
      {
        question: "TigerVNC is a type of what?",
        options: ["Remote Desktop Software", "Web Browser", "Antivirus", "Game Engine"],
        answer: "Remote Desktop Software"
      },
      {
        question: "What is a common port number for HTTP?",
        options: ["80", "22", "443", "3306"],
        answer: "80"
      }
    ];

    // Elements
    const questionEl = document.getElementById('question');
    const optionsEl = document.getElementById('options');
    const logEl = document.getElementById('log');
    const bgMusic = document.getElementById('bg-music');
    const rainSound = document.getElementById('rain-sound');
    const rainContainer = document.getElementById('rain');
    const butterfliesContainer = document.getElementById('butterflies');
    const refreshBtn = document.getElementById('refresh-btn');
    const body = document.body;

    let currentQuestionIndex = 0;
    let score = 0;
    let rainInterval = null;
    let butterflies = [];

    // Play bg music softly on first click (required for many browsers)
    document.body.addEventListener('click', () => {
      if (bgMusic.paused) bgMusic.play();
    }, { once: true });

    // Create and animate butterflies
    function createButterflies(count = 6) {
      butterfliesContainer.innerHTML = '';
      butterflies = [];
      for(let i = 0; i < count; i++) {
        const b = document.createElement('div');
        b.classList.add('butterfly');
        // random start position
        b.style.top = (Math.random() * 80 + 10) + 'vh';
        b.style.left = (Math.random() * 90 + 5) + 'vw';
        // random flutter speed
        const duration = 5 + Math.random() * 5;
        b.style.animation = `flutter ${duration}s ease-in-out infinite`;
        butterfliesContainer.appendChild(b);
        butterflies.push({el: b, speed: duration, direction: 1, posX: parseFloat(b.style.left), posY: parseFloat(b.style.top)});
      }
    }

    // Animate butterflies horizontal movement left/right
    function animateButterflies() {
      butterflies.forEach(butterfly => {
        butterfly.posX += 0.15 * butterfly.direction;
        if (butterfly.posX > 95) butterfly.direction = -1;
        if (butterfly.posX < 5) butterfly.direction = 1;
        butterfly.el.style.left = butterfly.posX + 'vw';
      });
      requestAnimationFrame(animateButterflies);
    }

    // Show question and options
    function showQuestion() {
      if(currentQuestionIndex >= questions.length) {
        questionEl.textContent = "🎉 You completed the quest! Congratulations! 🎉";
        optionsEl.innerHTML = '';
        logEl.textContent = `Your score: ${score} / ${questions.length}`;
        stopRain();
        body.classList.remove('rainy');
        body.classList.add('sunny');
        return;
      }

      const q = questions[currentQuestionIndex];
      questionEl.textContent = q.question;
      optionsEl.innerHTML = '';
      logEl.textContent = '';

      q.options.forEach(option => {
        const btn = document.createElement('button');
        btn.textContent = option;
        btn.setAttribute('aria-label', `Answer option: ${option}`);
        btn.onclick = () => {
          if(option === q.answer) {
            score++;
            logEl.textContent = '✅ Correct!';
            document.getElementById('correct-sound').play();
            stopRain();
            body.classList.remove('rainy');
            body.classList.add('sunny');
            currentQuestionIndex++;
            showQuestion();
          } else {
            logEl.textContent = `❌ Wrong! "${option}" is not correct. Try again.`;
            document.getElementById('wrong-sound').play();
            startRain();
            body.classList.remove('sunny');
            body.classList.add('rainy');
            // do not increment currentQuestionIndex to retry same question
          }
        };
        optionsEl.appendChild(btn);
      });
    }

    // Rain effect: create raindrop element
    function createRaindrop() {
      const drop = document.createElement('div');
      drop.classList.add('raindrop');
      drop.style.left = Math.random() * 100 + 'vw';
      drop.style.animationDuration = (0.5 + Math.random() * 0.8) + 's';
      rainContainer.appendChild(drop);

      drop.addEventListener('animationend', () => drop.remove());
    }

    // Start rain effect with interval
    function startRain() {
      if(rainInterval) return; // already raining
      rainInterval = setInterval(createRaindrop, 60);
      if(rainSound.paused) rainSound.play();
    }

    // Stop rain effect
    function stopRain() {
      if(!rainInterval) return;
      clearInterval(rainInterval);
      rainInterval = null;
      rainContainer.innerHTML = '';
      if(!rainSound.paused) {
        rainSound.pause();
        rainSound.currentTime = 0;
      }
    }

    // Restart quiz
    refreshBtn.onclick = () => {
      currentQuestionIndex = 0;
      score = 0;
      logEl.textContent = '';
      stopRain();
      body.classList.remove('rainy');
      body.classList.add('sunny');
      showQuestion();
    };

    // Init
    createButterflies();
    animateButterflies();
    showQuestion();
  </script>

</body>
</html>
